<div class="artwork_list_head">
  <h1>Artworks by</h1>
    <semantic-query
      query=" 
      PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>
      PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      
        SELECT ?artist_name WHERE {                    
              <[[this]]> rdfs:label ?artist_name
        }"
      template="{{>artistTemplate}}"
    >
      <template id="artistTemplate">
        {{#each bindings}}
        <object data="../../images/{{artist_name.value}}.png" type="image/png" class="img-circle headImageObject"></object>
        <h2>{{artist_name.value}}</h2>
        {{/each}}
      </template>
    </semantic-query>
  </h2>
</div>

<div class="artwork_list_body">
    <semantic-table
    id="grid-result"
    number-of-displayed-rows="10"
    query="
    SELECT DISTINCT ?subject
     WHERE {
      ?subject crm:P108i_was_produced_by ?production.
      ?production crm:P14_was_carried_out_by <[[this]]>
     }
  "
    tuple-template="{{>tupleTemplate}}"
  >
    <template id="tupleTemplate">
      <div
        class="rs-grid-element panel panel-default artwork-card fade-in"
      >
      <semantic-link-container uri="{{subject.value}}">
        <div class="panel-body">
          <bs-col md="5">
            <div class="row-center">
              <semantic-query
                query='SELECT DISTINCT ?imgUrl WHERE{
                BIND(CONCAT("https://s3-eu-west-1.amazonaws.com/florentinedrawings/thumbs/",REPLACE(STR(REPLACE(STR({{subject}}),"/full/full/0/default.jpg","")), "(^.*)\\/(.*)$", "$2"),".jpg") AS ?imgUrl)
              }'
                template="{{> imageThumbnail}}"
              >
                <template id="imageThumbnail">
                  <object data="{{bindings.0.imgUrl.value}}" type="image/jpeg"class="thumbnailImage"></object>
                </template>
              </semantic-query>
            </div>
          </bs-col>
          <bs-col md="7">
            <div data-flex-layout="row md-column center-stretch">
              <bs-row>
               
                <mp-field-visualization
                subject="{{subject.value}}"
                fields='[[fieldDefinitions  
                Title="https://florentinedrawings.itatti.harvard.edu/resource/field/1961_Edition_Recto_Title"
                English_Title="https://florentinedrawings.itatti.harvard.edu/resource/field/1938_Edition_Recto_Title"  
                Inv.Number="https://florentinedrawings.itatti.harvard.edu/resource/field/Inventory_Number"
                Artist ="https://florentinedrawings.itatti.harvard.edu/resource/field/1961_Edition_Artist_Attribution"
                Technique="https://florentinedrawings.itatti.harvard.edu/resource/field/Recto_Technique"
                ]]'
              
                template='{{>generalInfo}}'
                >
                <template id="generalInfo">
                    [[> rsp:ResourceFieldBasedVisualization subject=[[this]]  ]]
                </template>
              </mp-field-visualization>

                <!-- {{#ifCond recto_title_1961.value "!==" undefined}}
                <bs-col md="12">
                  <h4>{{recto_title_1961.value}}</h4>
                </bs-col>
                {{/ifCond}} -->

                  <!-- {{#ifCond recto_title_1938.value "!==" undefined}}
                  <bs-col md="4">
                    <div class="grid-demo">
                      <b>English title: </b>
                    </div>
                  </bs-col>
                  <bs-col md="8">
                    <div class="grid-demo">
                      {{recto_title_1938.value}}
                    </div>
                  </bs-col>
                  {{/ifCond}} -->

                  <!-- {{#ifCond id_number.value "!==" undefined}}
                  <bs-col md="4">
                    <div class="grid-demo">
                      <b>Inventory Number: </b>
                    </div>
                  </bs-col>
                  <bs-col md="8">
                    <div class="grid-demo">
                      {{id_number.value}}
                    </div>
                  </bs-col>
                  {{/ifCond}} -->
                  
                  <!-- {{#ifCond artist_name.value "!==" undefined}}
                  <bs-col md="4">
                    <div class="grid-demo">
                      <b>Artist Attribution: </b>
                    </div>
                  </bs-col>
                  <bs-col md="8">
                    <div class="grid-demo">
                      {{artist_name.value}}
                    </div>
                  </bs-col>
                  {{/ifCond}}

                  {{#ifCond techniqueList.value "!==" ""}}
                  <bs-col md="4">
                    <div class="grid-demo">
                      <b>Technique: </b>
                    </div>
                  </bs-col>
                  <bs-col md="8">
                    <div class="grid-demo">
                      {{techniqueList.value}} 
                    </div>
                  </bs-col>
                  {{/ifCond}} -->

              </bs-row>
            </div>
          </bs-col>
        </div>
      </semantic-link-container>
      </div>
    </template>
  </semantic-table>
</div>


<style>

  .filter-container {
   justify-content:center !important;
  }

  .fade-in {
    -webkit-animation: fade-in-fwd 0.7s cubic-bezier(0.39, 0.575, 0.565, 1) both;
    animation: fade-in-fwd 0.7s cubic-bezier(0.39, 0.575, 0.565, 1) both;
  }

  .grid-demo b{
      font-weight: normal;
    color: #777777;
    }

  .panel-body{
    cursor: pointer;
  }
  .panel-body:hover{
    box-shadow: 1px 2px 8px 0 #761f0e35, 1px 3px 12px 2px rgba(0, 0, 0, 0.07);
  }
  .rs-application .table > tbody > tr > td{
    border-color: white !important;
  }
  .rs-page__field-label{
    font-weight: normal;
    color: #777777;
  }
</style>
  